Тип scene (Сценарий)
====================

.. image:: /images/scene/blocks.png

Блок **scene** отображает указанные сценарии в виде блоков, при нажатии отправляет соответствующее сообщение в указанный MQTT-топик. Подтипов не имеет.
Параметры:

- :ref:`scene-param_1` — назначение блока (например, тип действия).
- :ref:`scene-param_2` — локация или контекст использования.
- :ref:`scene-param_3` — название сценария или режима.
- :ref:`scene-icon` — иконка, отображаемая на блоке.
- :ref:`scene-command_topic` — MQTT-топик для отправки команды.
- :ref:`scene-payload` — команда, отправляемая при нажатии.


Полный пример сценариев с верхнего изображения:
    * :ref:`scene-full_example`

.. raw:: html

    <br/><br/>
    <br/><br/>

Детальный разбор параметров:
----------------------------

.. _scene-param_1:
param_1
*****
   Используется для изменения текста в самом блоке, например, чтобы указать, что это «Сценарий» или «Режим». Может применяться и в других целях.

   :имя поля: ``param_1``
   :тип объекта: ``String``
   :наличие значения: Может быть пустым
   :ограничение строки: 9 символов
   :пример-1: ``"param_1":"Сцена"``
   :пример-2: ``"param_1":"Режим"``
   :пример-3: ``"param_1":""``

.. image:: /images/scene/param_1.png
.. raw:: html

    <br/><br/>
    <br/><br/>


.. _scene-param_2:
param_2
*****
   Используется для изменения текста в самом блоке. Например, позволяет уточнить, где будет активирован данный сценарий или режим. Если панель установлена в конкретной комнате, а все сценарии или режимы относятся к ней, это поле можно оставить пустым и написать значение из ``param_1`` сюда.

   :имя поля: ``param_2``
   :тип объекта: ``String``
   :наличие значения: Может быть пустым
   :ограничение строки: 11 символов
   :пример-1: ``"param_2":"Двор"``
   :пример-2: ``"param_2":"Гостиная"``
   :пример-3: ``"param_2":""``

.. image:: /images/scene/param_2.png
.. raw:: html

    <br/><br/>
    <br/><br/>


.. _scene-param_3:
param_3
*****
   Используется для изменения текста в самом блоке, чтобы указать название сценария или режима.

   :имя поля: ``param_3``
   :тип объекта: ``String``
   :наличие значения: Может быть пустым
   :ограничение строки: 11 символов
   :пример-1: ``"param_3":"Вечер"``
   :пример-2: ``"param_3":"Кино"``
   :пример-3: ``"param_3":"Ужин"``

.. image:: /images/scene/param_3.png
.. raw:: html

    <br/><br/>
    <br/><br/>


.. _scene-icon:
icon
*****
   Используется для изменения иконки в самом блоке.

   :имя поля: ``icon``
   :тип объекта: ``String``
   :наличие значения: Обязательно
   :ограничение строки: Стандартный unicode
   :пример-1: ``"icon":"\uDB81\uDD94"`` - иконка 
   :пример-2: ``"icon":"\uDB81\uDC2E"`` - иконка
   :пример-3: ``"icon":"\uDB81\uDCA3"`` - иконка

.. image:: /images/scene/icon.png
.. raw:: html

    <br/><br/>
    <br/><br/>


.. _scene-command_topic:
command_topic
*****
   Командный MQTT-топик, куда будет отправлять указанное сообщение (команда) в ``payload`` при нажатии на сам блок.

   :имя поля: ``command_topic``
   :тип объекта: ``String``
   :наличие значения: Обязательно
   :ограничение строки: нет ограничения
   :пример: ``"command_topic":"panel/scenes/1"``

.. _scene-payload:
payload
*****
   Сообщения(команда) отправляемая в командный MQTT-топик ``command_topic``, при нажатии на сам блок.

   :имя поля: ``payload``
   :тип объекта: ``String``
   :наличие значения: Обязательно
   :ограничение строки: нет ограничения
   :пример: ``"payload":"1"``


.. _scene-full_example:
Полный пример сценариев
---------------------------------
Пример::

   {
      "screens": [
         {
            "page": 1,
            "blocks": [
               {
                  "block": 1,
                  "type": "scene",
                  "data": {
                     "param_1": "Сцена",
                     "param_2": "Двор",
                     "param_3": "Вечер",
                     "icon": "\uDB81\uDD94",
                     "command_topic": "panel/scenes/1",
                     "payload": "1"
                  }
               },
               {
                  "block": 2,
                  "type": "scene",
                  "data": {
                     "param_1": "Сцена",
                     "param_2": "Гостиная",
                     "param_3": "Кино",
                     "icon": "\uDB81\uDC2E",
                     "command_topic": "panel/scenes/2",
                     "payload": "1"
                  }
               },
               {
                  "block": 3,
                  "type": "scene",
                  "data": {
                     "param_1": "Сцена",
                     "param_2": "Кухня",
                     "param_3": "Ужин",
                     "icon": "\uDB81\uDCA3",
                     "command_topic": "panel/scenes/3",
                     "payload": "1"
                  }
               },
               {
                  "block": 4,
                  "type": "scene",
                  "data": {
                     "param_1": "Сцена",
                     "param_2": "Дом",
                     "param_3": "Выкл все",
                     "icon": "\uDB82\uDD06",
                     "command_topic": "panel/scenes/4",
                     "payload": "1"
                  }
               }
            ]
         }
      ]
   }